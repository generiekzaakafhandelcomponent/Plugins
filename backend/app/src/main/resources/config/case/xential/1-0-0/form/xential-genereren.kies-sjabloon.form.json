{
  "components": [
    {
      "key": "xentialDocumentProperties",
      "type": "hidden",
      "input": true,
      "label": "Xential document properties",
      "properties": {
        "sourceKey": "pv:xentialDocumentProperties"
      },
      "persistent": "client-only"
    },
    {
      "key": "xentialGebruikersId",
      "type": "hidden",
      "input": true,
      "label": "Xential gebruikersId",
      "properties": {
        "sourceKey": "pv:xentialGebruikersId"
      },
      "persistent": "client-only"
    },
    {
      "key": "pv:xentialSjabloonId",
      "data": {
        "url": "../api/v1/xential/sjablonen?gebruikersId={{ data.xentialGebruikersId }}&sjabloonGroupId={{ data.xentialDocumentProperties.xentialTemplateGroupId }}",
        "method": "GET",
        "headers": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{localStorage.getItem('formioToken')}}"
          }
        ]
      },
      "type": "select",
      "input": true,
      "label": "Sjabloon id",
      "widget": "choicesjs",
      "dataSrc": "url",
      "lazyLoad": false,
      "template": "<span>{{ item.naam }}</span>",
      "validate": {
        "required": true
      },
      "tableView": true,
      "selectValues": "sjablonen",
      "valueProperty": "id"
    },
    {
      "key": "document",
      "data": {
        "url": "../api/management/v1/document-definition?page=0&size=100",
        "method": "GET",
        "headers": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{localStorage.getItem('formioToken')}}"
          }
        ]
      },
      "type": "select",
      "input": true,
      "label": "Document",
      "widget": "choicesjs",
      "dataSrc": "url",
      "lazyLoad": false,
      "template": "<span>{{ item.id.name }}</span>",
      "validate": {
        "required": true
      },
      "tableView": true,
      "selectValues": "content",
      "valueProperty": "id.name",
      "properties": {
        "targetKey": "pv:document"
      }
    },
    {
      "key": "tempcontent",
      "type": "select",
      "input": true,
      "label": "Template",
      "data": {
        "url": "../api/management/v1/template?caseDefinitionName={{ data.document }}&templateType=text&page=0&size=10000",
        "method": "GET",
        "headers": [
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Authorization",
            "value": "Bearer {{localStorage.getItem('formioToken')}}"
          }
        ]
      },
      "widget": "choicesjs",
      "dataSrc": "url",
      "lazyLoad": false,
      "template": "<span>{{ item.key }}</span>",
      "validate": {
        "required": true
      },
      "refreshOn": "document",
      "tableView": true,
      "selectValues": "content",
      "valueProperty": "key",
      "clearOnRefresh": true,
      "customConditional": "show = data.document ? true : false;",
      "persistent": "client-only"
    },
    {
      "key": "pv:xentialData",
      "type": "hidden",
      "input": true,
      "label": "Set template",
      "defaultValue": false,
      "calculateValue": "value = 'template:' + data.tempcontent"
    },
    {
      "key": "pv:fileFormat",
      "type": "select",
      "input": true,
      "label": "File format",
      "data": {
        "values": [
          {
            "label": "PDF",
            "value": "PDF"
          },
          {
            "label": "WORD",
            "value": "WORD"
          }
        ]
      },
      "template": "<span>{{ item.label }}</span>",
      "validate": {
        "required": true
      }
    },
    {
      "key": "submit",
      "type": "button",
      "input": true,
      "label": "Afronden",
      "tableView": false,
      "showValidations": false,
      "disableOnInvalid": true
    }
  ]
}