openapi: 3.0.2
info:
  title: Ontvangsten & Factuur Opvoeren API
  description: 'De Ontvangsten & Factuur Opvoeren API van de Gemeente Rotterdam'
  contact:
    url: https://www.rotterdam.nl
    email: noreply@rotterdam.nl
  version: 1.0.0
tags:
  - name: ontvangsten
    description: Ontvangsten functies
paths:
  /bestelaanvraag:
    post:
      tags:
        - bestelaanvragen
      operationId: maakBestelaanvraagAan
      summary: Aanmaken van een bestelaanvraag
      description: "\nMaakt een bestelaanvraag aan in de CFA van Rotterdam"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BestelaanvraagVraag'
      responses:
        '200':
          description: OK, bestelaanvraag is aangemaakt.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BestelaanvraagAntwoord'
        '400':
          description: 'Bad request, input parameter ontbreekt'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker mag geen bestelaanvragen aanmaken of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '404':
          description: 'Not Found, bepaalde gegevens zijn niet bekend'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: 'Conflict, er bestaat al een Bestelaanvraag met dezelfde gegevens'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '422':
          description: 'Unprocessable Entity, bepaalde gegevens zijn niet actief enz.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /bestelaanvraag/inkooporder:
    post:
      tags:
        - bestelaanvragen
      operationId: vraagInkooporder
      summary: Opvragen van inkoopordernummer van een bestelaanvraag
      description: "Vraagt een inkoopordernummer van een bestelaanvraag op in de CFA van Rotterdam"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InkooporderNummerVraag'
      responses:
        '200':
          description: OK, vraag is beantwoord
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InkooporderNummerAntwoord'
        '400':
          description: 'Bad request, input parameter ontbreekt'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker mag geen gegevens opvragen of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '404':
          description: 'Not Found, bepaalde gegevens zijn niet bekend'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /ontvangst:
    post:
      tags:
        - ontvangsten
      operationId: maakOntvangstAan
      summary: Aanmaken van een ontvangst
      description: "\nMaakt een ontvangst aan in de CFA van Rotterdam"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OntvangstVraag'
      responses:
        '200':
          description: OK, Ontvangst ontvangen en verwerkbaar geacht.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Empty'
        '400':
          description: 'Bad request, input parameter ontbreekt of bijlage is verplicht bij bepaalde ontvangsten of eenheid niet correct'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker mag geen ontvangsten boeken of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '404':
          description: 'Not Found, ordernummer of regelnummer zijn niet bekend'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: 'Conflict, er bestaat al een Ontvangst met hetzelfde ontvangst_nummer'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '422':
          description: 'Unprocessable Entity, ordernummer is niet actief, geannuleerd enz.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /ontvangst/openstaand:
    post:
      tags:
        - ontvangsten
      operationId: toonOpenOntvangsten
      summary: Tonen van lijst van openstaande ontvangsten
      description: "\nToont een lijst van openstaande ontvangsten in de CFA van Rotterdam"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpenstaandOntvangstVraag'
      responses:
        '200':
          description: OK, lijst van openstaande ontvangsten is beschikbaar
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OpenstaandOntvangstAntwoord'
        '400':
          description: 'Bad request, ontbrekende of incorrecte criteria'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker is niet geautoriseerd of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '405':
          description: 'Enkel de POST HTTP method wordt ondersteund'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /journaalpost/opvoeren:
    post:
      tags:
        - journaalposten
      operationId: opvoerenJournaalpost
      summary: Opvoeren van een journaalpost
      description: "Voert een journaalpost op"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpvoerenJournaalpostVraag'
      responses:
        '200':
          description: OK, Journaalpost ontvangen en verwerkbaar geacht.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verwerkingsstatus'
        '400':
          description: 'Bad request, input parameter ontbreekt'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker is niet geautoriseerd of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /verkoopfactuur/opvoeren:
    post:
      tags:
        - verkoopfacturen
      operationId: opvoerenVerkoopfactuur
      summary: Opvoeren van een verkoopfactuur
      description: "Voert een verkoopfactuur op"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpvoerenVerkoopfactuurVraag'
      responses:
        '200':
          description: OK, Verkoopfactuur ontvangen en verwerkbaar geacht.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerwerkingsstatusVerkoopfactuur'
        '400':
          description: 'Bad request, input parameter ontbreekt'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker is niet geautoriseerd of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
  /inkoopfactuur/opvoeren:
    post:
      tags:
        - inkoopfacturen
      operationId: opvoerenInkoopfactuur
      summary: Opvoeren van een inkoopfactuur
      description: "Voert een inkoopfactuur op"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpvoerenInkoopfactuurVraag'
      responses:
        '200':
          description: OK, Inkoopfactuur ontvangen en verwerkbaar geacht.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verwerkingsstatus'
        '400':
          description: 'Bad request, input parameter ontbreekt'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '401':
          description: 'Unauthorized, Gebruiker is niet geautoriseerd of is onbekend in de CFA'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: 'Internal Server Error, Configuratie fouten; INTERNE_FOUT'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: 'Service Unavailable, CFA is niet bereikbaar'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
components:
  schemas:
    BestelaanvraagVraag:
      required:
        - procescode
        - bestelaanvraag
      type: object
      properties:
        procescode:
          title: procescode
          description: 'Identificatie van het proces. Wordt in overleg bepaald en moet hier doorgegeven worden.'
          type: string
          maxLength: 30
          example: 'afbe2438-d6d1-47e7-81ed-3d6d51b32ad6'
        bestelaanvraag:
          title: bestelaanvraag
          description: 'De bestelaanvraag.'
          $ref: '#/components/schemas/Bestelaanvraag'
    Bestelaanvraag:
      required:
        - aanvraagId
        - omschrijving
        - aanvrager
      type: object
      properties:
        aanvraagId:
          title: Identificatie van de aanvraag
          description: 'Unieke identificatie van deze aanvraag.'
          type: string
          maxLength: 50
          example: '67b27e72-86f4-4c16-a2e0-8d193558f561'
        aanvrager:
          title: aanvrager
          description: 'Identificatie van de persoon die de bestelaanvraag aan het plaatsen is. Het medewerkernummer.'
          type: string
          maxLength: 6
          example: '123456'
        voorbereider:
          title: voorbereider
          description: 'Optionele medewerkernummer van de voorbereider. Indien niet meegestuurd wordt een standaard voorbereider gekozen.'
          type: string
          maxLength: 6
          example: '123456'
        omschrijving:
          title: omschrijving
          description: 'De omschrijving van de bestelaanvraag.'
          type: string
          maxLength: 240
          example: 'Een beschrijving'
        meldingVoorGoedkeurder:
          title: meldingVoorGoedkeurder
          description: 'Een tekst dat getoond moet worden aan degene die goedkeurt.'
          type: string
          maxLength: 240
          example: 'Dit is mijn bestelaanvraag'
        leverancier:
          title: leverancier
          description: 'De leverancier.'
          $ref: '#/components/schemas/Leverancier'
        regels:
          title: regels
          description: de regels met daarin de bestelde producten of diensten. Minimaal 1 regel.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Regel'
        kostenplaats:
          title: kostenplaats
          description: De kostenplaats voor de bestelaanvraag
          type: string
          maxLength: 25
          example: '123456789'
        projectNummer:
          title: projectNummer
          description: Het projectnummer
          type: string
          maxLength: 25
          example: '123456789'
        projectTaak:
          title: projectTaak
          description: De taak.
          type: string
          maxLength: 25
          example: '123456789'
        projectKostenSoort:
          title: projectKostenSoort
          description: De kosten soort
          type: string
          maxLength: 30
          example: '123456789'
        bijlagen:
          title: bijlagen
          description: 'Een lijst met bijlagen die bij de ontvangst bijgesloten moet worden.'
          type: array
          items:
            $ref: '#/components/schemas/Bijlage'
        extraGegevens:
          title: extraGegevens
          description: 'Een lijst met extra gegevens met beperkte lengte die als metadata uitgewisseld moet worden. Niet gebruiken voor stuurdata. Enkel als metadata.'
          type: array
          items:
            $ref: '#/components/schemas/ExtraGegevenLang'
    Regel:
      required:
        - regelId
        - categorie
        - eenheid
        - prijs
        - aantal
        - datumBenodigd
      type: object
      properties:
        regelId:
          title: regelId
          description: Unieke identificatie van de regel binnen deze aanvraag
          type: string
          maxLength: 50
          example: 'c66debaf-79e2-4fdb-b9db-9802ef01ff14'
        categorie:
          title: categorie
          description: De categorie van de bestelaanvraag
          type: string
          maxLength: 30
          example: 'opleidingen'
        eenheid:
          title: eenheid
          description: De eenheid van de bestelaanvraag
          type: string
          maxLength: 15
          example: '123456789'
        prijs:
          title: prijs
          description: De prijs van de bestelling
          type: number
          format: double
          example: '1.2'
        aantal:
          title: aantal
          description: 'Het aantal van de eenheden die als ontvangst geboekt moet worden.'
          type: number
          example: '2'
          format: double
        datumBenodigd:
          title: datumBenodigd
          description: 'De datum waarop het product nodig is.'
          type: string
          example: '2020-08-02T13:37:03.916+02:00'
          format: date-time
        extraGegevens:
          title: extraGegevens
          description: 'Een lijst met extra gegevens met beperkte lengte die als metadata uitgewisseld moet worden. Niet gebruiken voor stuurdata. Enkel als metadata.'
          type: array
          items:
            $ref: '#/components/schemas/ExtraGegevenLang'
    Leverancier:
      type: object
      required:
        - kvkNummer
        - postcode
        - woonplaats
      properties:
        kvkNummer:
          title: kvkNummer
          description: Het KvK nummer van de leverancier
          type: string
          maxLength: 8
          example: '123456789'
        vestigingsNummer:
          title: vestigingsNummer
          description: Het vestigingsnummer van de leverancier
          type: string
          maxLength: 12
          example: '1234567891234'
        postcode:
          title: postcode
          description: De postcode van de leverancier voor matching met bekende leveranciers
          type: string
          maxLength: 6
          example: '1234AA'
        woonplaats:
          title: woonplaats
          description: De plaats van de leverancier voor matching met bekende leveranciers
          type: string
          maxLength: 240
          example: 'Rotterdam'
    BestelaanvraagAntwoord:
      required:
        - bestelaanvraag
      type: object
      properties:
        bestelaanvraag:
          title: nummer van bestelaanvraag
          description: 'Het nummer van de aangemaakte bestelaanvraag'
          type: string
          maxLength: 20
          example: '50000586050'
    OntvangstVraag:
      required:
        - procescode
        - ontvangst
      type: object
      properties:
        procescode:
          title: procescode
          description: 'Identificatie van het proces. Wordt in overleg bepaald en moet hier doorgegeven worden.'
          type: string
          maxLength: 30
          example: 'afbe2438-d6d1-47e7-81ed-3d6d51b32ad6'
        ontvanger:
          title: ontvanger
          description: 'Identificatie van de persoon die de ontvangst aan het boeken is. Het medewerkernummer.'
          type: string
          maxLength: 10
          example: '123456'
        ontvangst:
          title: ontvangst
          description: 'De ontvangst.'
          $ref: '#/components/schemas/Ontvangst'
    Ontvangst:
      required:
        - inkooporder
        - regelnummer
        - ontvangstDatum
        - aantal
      type: object
      properties:
        ontvangstnummer:
          title: ontvangstnummer
          description: 'Unieke identificatie van de ontvangst. Ontvangstnummer of pakbon zijn verplicht.'
          type: string
          maxLength: 30
          example: 'afbe2438-d6d1-47e7-81ed-3d6d51b32ad6'
        pakbon:
          title: pakbon
          description: 'Unieke identificatie van de pakbon. Ontvangstnummer of pakbon zijn verplicht.'
          type: string
          maxLength: 30
          example: 'afbe2438-d6d1-47e7-81ed-3d6d51b32ad6'
        inkooporder:
          title: inkooporder
          description: 'Het inkoopordernummer waaronder de ontvangst geboekt moet worden.'
          type: string
          maxLength: 20
          example: '123456'
        regelnummer:
          title: regelnummer
          description: 'Het nummer van de regel uit de inkooporder waaronder de ontvangst geboekt moet worden.'
          type: integer
          example: '2'
        datum:
          title: ontvangstDatum
          description: 'De datum en tijd waarop de ontvangst geregistreerd is.'
          type: string
          example: '2020-08-02T13:37:03.916+02:00'
          format: date-time
        volgende_ontvangstdatum:
          title: volgende ontvangstDatum
          description: 'De volgende ontvangstdatum indien bekend.'
          type: string
          example: '2020-08-02T13:37:03.916+02:00'
          format: date-time
        aantal:
          title: aantal
          description: 'Het aantal van de eenheden die als ontvangst geboekt moet worden.'
          type: number
          example: '2'
          format: double
        eenheid:
          title: eenheid
          description: 'De eenheid dat geboekt wordt.'
          type: string
          example: 'TON'
        po_line_location:
          title: PO_LINE_LOCATION_ID
          description: 'PO_LINE_LOCATION_ID identificeert een bepaalde verzending'
          type: number
          format: double
        toelichting:
          title: toelichting
          description: 'Extra toelichting.'
          type: string
          maxLength: 4000
          example: 'Extra toelichting.'
        bijlagen:
          title: bijlagen
          description: 'Een lijst met bijlagen die bij de ontvangst bijgesloten moet worden.'
          type: array
          items:
            $ref: '#/components/schemas/Bijlage'
        extraGegevens:
          title: extraGegevens
          description: 'Een lijst met extra gegevens die als metadata uitgewisseld moet worden. Niet gebruiken voor stuurdata. Enkel als metadata.'
          type: array
          items:
            $ref: '#/components/schemas/ExtraGegeven'
    OpenstaandOntvangst:
      type: object
      properties:
        inkooporder:
          title: inkooporder
          description: 'Het inkoopordernummer waaronder de ontvangst valt.'
          type: string
          maxLength: 50
          example: '123456'
        regelnummer:
          title: regelnummer
          description: 'Het nummer van de regel uit de inkooporder waaronder de ontvangst valt.'
          type: integer
          example: '2'
        bestelaanvraag:
          title: bestelaanvraag
          description: 'Het nummer van de bestelaanvraag'
          type: string
          maxLength: 20
        regelomschrijving:
          title: regelomschrijving
          description: 'Omschrijving van de regel'
          type: string
          maxLength: 240
          example: 'potloden'
        verwachte_ontvangstdatum:
          title: verwachte ontvangstDatum
          description: 'De datum en tijd waarop de ontvangst is verwacht.'
          type: string
          example: '2020-08-02T13:37:03.916+02:00'
          format: date-time
        te_ontvangen_aantal:
          title: aantal te ontvangen
          description: 'Het aantal of de hoeveelheid van de eenheden die verwacht worden te ontvangen.'
          type: number
          example: '2'
          format: double
        bestelde_aantal:
          title: aantal besteld
          description: 'Het aantal of de hoeveelheid van de eenheden die zijn besteld.'
          type: number
          example: '2'
          format: double
        ontvangen_aantal:
          title: aantal ontvangen
          description: 'Het aantal of de hoeveelheid van de eenheden die zijn ontvangen.'
          type: number
          example: '2'
          format: double
        eenheid:
          title: eenheid
          description: 'De eenheid van de aantallen of hoeveelheden.'
          type: string
          maxLength: 25
          example: 'TON'
        gefactureerd:
          title: gefactureerd
          description: 'Gefactureerd'
          type: number
          example: '200.25'
          format: double
        prijs:
          title: prijs
          description: 'Prijs'
          type: number
          example: '200.25'
          format: double
        valuta:
          title: valuta
          description: 'Valuta code'
          type: string
          maxLength: 15
          example: 'USD'
        leverancier_naam:
          title: leverancier naam
          description: 'Naam van leverancier'
          type: string
          maxLength: 240
        po_line_location:
          title: PO_LINE_LOCATION_ID
          description: 'PO_LINE_LOCATION_ID identificeert een bepaalde verzending'
          type: number
          format: double
        aanvrager_naam:
          title: aanvrager naam
          description: 'Naam van aanvrager'
          type: string
          maxLength: 240
        aanvrager_nummer:
          title: aanvrager_nummer
          description: 'Nummer van aanvrager'
          type: string
          maxLength: 30
        besteller_naam:
          title: besteller naam
          description: 'Naam van besteller'
          type: string
          maxLength: 240
        besteller_nummer:
          title: besteller_nummer
          description: 'Nummer van besteller'
          type: string
          maxLength: 30
        grenswaarde_pv:
          title: grenswaardePV
          description: 'Grenswaarde PV'
          type: number
          format: double
        projectNummer:
          title: projectNummer
          description: Het projectnummer
          type: string
          maxLength: 25
          example: '123456789'
        gebruikerMagOntvangen:
          title: gebruikerMagOntvangen
          description: "Gebruiker mag ontvangen: 'Y' (ja) of 'N' (nee)"
          type: string
          maxLength: 1
          example: 'Y'

    OpenstaandOntvangstVraag:
      required:
        - procescode
      type: object
      properties:
        procescode:
          title: procescode
          description: 'Identificatie van het proces. Wordt in overleg bepaald. Wordt alleen dit veld doorgegeven bij een vraag, dan worden alle openstaande ontvangsten opgehaald.'
          type: string
          maxLength: 30
          example: 'TaakAppXYZ'
        inkooporder:
          title: inkooporder
          description: 'Inkoopordernummer.'
          type: string
          maxLength: 50
          example: '12345690'
        werknemer:
          title: werknemer
          description: 'medewerkernummer.'
          type: string
          maxLength: 30
          example: '123456'
        alle_ontvangsten:
          title: alle_ontvangsten
          description: 'Alle ontvangsten criterium. Indien de waarde "Y" is, worden voor alle medewerkers alle ontvangsten die vandaag ontvangen moeten worden met kosten bestemming = Kosten, opgehaald. Indien de waarde "N" is, worden ontvangsten opgehaald afhankelijk van of het inkooporder is ingevuld. Indien wel ingevuld dan alleen die, indien niet dan alleen van de medewerker.'
          type: string
          maxLength: 1
          example: 'Y'
    OpenstaandOntvangstAntwoord:
      type: object
      properties:
        openstaand:
          title: lijst van openstaande ontvangsten
          description: 'Lijst van openstaande ontvangsten'
          type: array
          items:
            $ref: '#/components/schemas/OpenstaandOntvangst'
    InkooporderNummerVraag:
      required:
        - procescode
        - bestelaanvraag
      type: object
      properties:
        procescode:
          title: procescode
          description: 'Identificatie van het proces. Wordt in overleg bepaald. Wordt alleen dit veld doorgegeven bij een vraag, dan worden alle openstaande ontvangsten opgehaald.'
          type: string
          maxLength: 30
          example: 'TaakAppXYZ'
        bestelaanvraag:
          title: bestelaanvraag
          description: 'Het nummer van de bestelaanvraag'
          type: string
          maxLength: 20
    InkooporderNummerAntwoord:
      required:
        - inkooporders
      type: object
      properties:
        inkooporders:
          title: lijst van inkoopordernummers
          description: 'Lijst van inkoopordernummers'
          type: array
          items:
            type: string
            maxLength: 50
    ExtraGegeven:
      required:
        - naam
        - waarde
      type: object
      properties:
        naam:
          title: naam
          description: 'De naam van het extra attribuut.'
          type: string
          maxLength: 100
          example: 'extragegevens'
        waarde:
          title: waarde
          description: 'De waarde van het extra attribuut.'
          type: string
          maxLength: 100
          example: 'extrawaarde'
    ExtraGegevenLang:
      required:
        - naam
        - waarde
      type: object
      properties:
        naam:
          title: naam
          description: 'De naam van het extra attribuut.'
          type: string
          maxLength: 100
          example: 'extragegevens'
        waarde:
          title: waarde
          description: 'De waarde van het extra attribuut met langere lengte dan normaal'
          type: string
          maxLength: 150
          example: 'extrawaarde'
    Bijlage:
      required:
        - naam
        - mimeType
        - base64_payload
      type: object
      properties:
        naam:
          title: naam
          description: 'De naam van het bestand.'
          type: string
          maxLength: 100
          example: 'bon.pdf'
        mimeType:
          title: mimeType
          description: 'De mime type van het bestand.'
          type: string
          maxLength: 100
          example: 'application/pdf'
        base64_payload:
          title: base64 payload
          description: 'De binary payload in base64 encoded.'
          type: string
          example: 'aW5ob3Vk'

    OpvoerenJournaalpostVraag:
      required:
        - procescode
        - referentieNummer
        - journaalpost
      type: object
      properties:
        procescode:
          description: 'Procescode.'
          type: string
          example: 'COMBIPAC'
        referentieNummer:
          description: 'Referentienummer.'
          type: string
          example: '9d1369cf-4ed1-4235-9a6d-01c8f6f2efeb'
        journaalpost:
          $ref: '#/components/schemas/Journaalpost'
    Journaalpost:
      required:
        - journaalpostsleutel
        - journaalpostboekdatumTijd
        - journaalpostcategorie
        - journaalpostsaldosoort
        - valutacode
        - journaalpostregels
      type: object
      properties:
        journaalpostsleutel:
          description: 'Journaalpost sleutel.'
          type: string
          example: '123456'
        journaalpostomschrijving:
          description: 'Journaalpost omschrijving.'
          type: string
          example: 'Huur opbrengsten'
        journaalpostboekdatumTijd:
          description: 'Journaalpost boekdatum en boektijd'
          type: string
          example: '2015-12-31T01:23:56'
          format: date-time
        grootboek:
          description: 'Grootboek.'
          type: string
          enum:
            - 100
            - R10
        boekjaar:
          description: 'Boekjaar.'
          type: integer
          example: '2015'
          minimum: 1
        boekperiode:
          description: 'Boekperiode.'
          type: integer
          example: '12'
          minimum: 1
        journaalpostcategorie:
          description: 'Journaalpost categorie.'
          type: string
          example: 'Memoriaal'
        journaalpostsaldosoort:
          description: 'Journaalpost saldo soort.'
          type: string
          enum:
            - Budget
            - Reservering
            - Werkelijk
        valutacode:
          description: 'Valuta code.'
          type: string
          enum:
            - EUR
        journaalpostregels:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Journaalpostregel'
    Journaalpostregel:
      required:
        - grootboekrekening
        - journaalpostregelboekingtype
        - journaalpostregelbedrag
      type: object
      properties:
        grootboekrekening:
          $ref: '#/components/schemas/Grootboekrekening'
        journaalpostregelomschrijving:
          description: 'Journaalpostregel omschrijving.'
          type: string
          minLength: 1
          example: '1-Huur bedrijfsruimte (01-APR-2015 to 30-JUN-2015)'
        journaalpostregelboekingtype:
          description: 'Journaalpostregel boekingtype.'
          type: string
          enum:
            - Debet
            - Credit
        journaalpostregelbedrag:
          description: 'Journaalpostregel bedrag.'
          type: number
          format: double
          minimum: 0
          example: '5266.83'
        bronspecifiekewaarden:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Bronspecifiekewaardesegment'
    Grootboekrekening:
      description: 'Direct de grootboek sleutel uit Oracle of een bron specifieke sleutel die vertaald moet worden.'
      required:
        - grootboeksleutel
      type: object
      oneOf:
        - properties:
            grootboeksleutel:
              type: string
              pattern: '(100.\w{6}.\w{6}.\w{8}.\w{6}.000.000000)|(R10.\w{6}.\w{8}.\w{8}.\w{8}.000.000000.000000)'
              description: 'Oracle grootboek sleutel.'
              example: 'R10.008060.00000000.00000000.V0032200.000.000000.000000'
        - properties:
            bronsleutel:
              type: string
              minLength: 1
              maxLength: 300
              description: 'Grootboek sleutel van de bron die vertaald moet worden naar een Oracle grootboeksleutel.'
    Bronspecifiekewaardesegment:
      description: "Beschrijving van de 'flex-velden' waarmee bron-specifieke waarden kunnen worden doorgegeven."
      required:
        - bronspecifiekewaardesegmentnaam
        - bronspecifiekewaardesegmentwaarde
        - volgorde
      type: object
      properties:
        bronspecifiekewaardesegmentnaam:
          description: 'Bron specifieke waarde segmentnaam.'
          type: string
          example: 'Klant'
        bronspecifiekewaardesegmentwaarde:
          description: 'Bron specifieke waarde segmentwaarde.'
          type: string
          example: '25758'
        volgorde:
          description: 'Volgorde.'
          type: integer
          minimum: 1
          example: '1'

    OpvoerenVerkoopfactuurVraag:
      required:
        - procescode
        - referentieNummer
        - factuur
      type: object
      properties:
        procescode:
          description: 'Procescode.'
          type: string
          example: 'COMBIPAC'
        referentieNummer:
          description: 'Referentienummer.'
          type: string
          example: 'bc374e25-98de-436a-a5f6-f0fdbdab611e'
        factuur:
          $ref: '#/components/schemas/Verkoopfactuur'
        bijlage:
          type: object
          oneOf:
            - $ref: '#/components/schemas/VerkoopfactuurBijlage'
            - $ref: '#/components/schemas/VerkoopfactuurBijlagen'
    Verkoopfactuur:
      required:
        - factuurtype
        - factuurklasse
        - factuurdatum
        - inkooporderreferentie
        - koper
        - factuurregels
      type: object
      description: "Factuurgegevens zodat OracleEBS een factuur kan aanmaken en versturen."
      properties:
        factuurtype:
          type: string
          enum:
            - Aanslagbiljet
            - Verkoopfactuur
        factuurklasse:
          type: string
          enum:
            - Creditnota
            - Debetnota
            - Correctienota
        transactiesoort:
          type: string
        factuurnummer:
          type: string
          maxLength: 20
        factuurdatum:
          type: string
          format: date
        factuurvervaldatum:
          type: string
          format: date
        factureerregel:
          type: string
          maxLength: 150
        factuurkenmerk:
          type: string
          maxLength: 150
        factuurtoelichting:
          type: string
          maxLength: 240
        gerelateerdFactuurnummer:
          type: string
        inkooporderreferentie:
          type: string
          maxLength: 50
        koper:
          $ref: '#/components/schemas/RelatieRotterdam'
        factuuradres:
          $ref: '#/components/schemas/Adres'
        valutacode:
          type: string
          description: "Alleen EUR wordt ondersteund."
        grootboekdatum:
          type: string
          format: date
        grootboekjaar:
          type: integer
          minimum: 1000
          maximum: 9999
        factuurregels:
          type: array
          items:
            $ref: '#/components/schemas/Factuurregel'
        bronspecifiekewaarden:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Bronspecifiekewaardesegment'
    RelatieRotterdam:
      type: object
      oneOf:
        - required:
            - natuurlijkPersoon
          properties:
            relatienummerRotterdam:
              type: string
              maxLength: 30
            natuurlijkPersoon:
              $ref: '#/components/schemas/NatuurlijkPersoon'
        - required:
            - nietNatuurlijkPersoon
          properties:
            relatienummerRotterdam:
              type: string
              maxLength: 30
            nietNatuurlijkPersoon:
              $ref: '#/components/schemas/NietNatuurlijkPersoon'
    NatuurlijkPersoon:
      required:
        - achternaam
        - voornamen
      type: object
      properties:
        bsn:
          type: string
          minLength: 9
          maxLength: 9
          pattern: ([0-9]{9}|B[0-9]{8})
        relatienaam:
          type: string
        achternaam:
          type: string
          maxLength: 150
        tussenvoegsel:
          type: string
          maxLength: 30
        voornamen:
          type: string
          maxLength: 150
        titel:
          type: string
          maxLength: 60
        telefoonnummer:
          type: string
        mobielnummer:
          type: string
        email:
          type: string
        vestigingsadres:
          $ref: '#/components/schemas/Adres'
    NietNatuurlijkPersoon:
      required:
        - statutaireNaam
      type: object
      properties:
        kvknummer:
          type: string
          pattern: ([0-9]{8}|B[0-9]{7})
          description: "Kvknummer is verplicht indien kvkvestigingsnummer niet aanwezig is."
        kvkvestigingsnummer:
          type: string
          minLength: 12
          maxLength: 12
          pattern: ([0-9]{12}|B[0-9]{11})
          description: "Kvkvestigingsnummer is verplicht indien Kvknummer niet aanwezig is."
        rsin:
          type: string
        ion:
          type: string
        statutaireNaam:
          type: string
          maxLength: 150
        rechtsvorm:
          type: string
        datumAanvang:
          type: string
          format: date
        datumEinde:
          type: string
          format: date
        telefoonnummer:
          type: string
        email:
          type: string
        website:
          type: string
        tijdstipRegistratie:
          type: string
          format: date
        btwnummer:
          type: string
        vestigingsadres:
          $ref: '#/components/schemas/Adres'
    Adres:
      type: object
      oneOf:
        - properties:
            postbusadres:
              $ref: '#/components/schemas/PostbusAdres'
        - properties:
            locatieadres:
              $ref: '#/components/schemas/LocatieAdres'
    AdresAbstract:
      required:
        - landcode
        - plaatsnaam
        - postcode
      type: object
      properties:
        vestigingsnummerRotterdam:
          type: string
          maxLength: 30
        landcode:
          type: string
          maxLength: 60
        plaatsnaam:
          type: string
          maxLength: 60
        postcode:
          type: string
          maxLength: 60
        naamContactpersoon:
          type: string
          maxLength: 360
    PostbusAdres:
      allOf:
        - $ref: '#/components/schemas/AdresAbstract'
        - type: object
          required:
            - postbus
          properties:
            postbus:
              type: number
    LocatieAdres:
      allOf:
        - $ref: '#/components/schemas/AdresAbstract'
        - type: object
          required:
            - straatnaam
            - huisnummer
          properties:
            straatnaam:
              type: string
              maxLength: 240
            huisnummer:
              type: number
            huisnummertoevoeging:
              type: string
              maxLength: 240
    Factuurregel:
      required:
        - factuurregelFacturatieHoeveelheid
        - factuurregelFacturatieTarief
        - btwPercentage
        - grootboekrekening
      type: object
      properties:
        factuurregelomschrijving:
          type: string
          maxLength: 240
        factuurregelFacturatieEenheid:
          type: string
        factuurregelFacturatieHoeveelheid:
          type: number
        factuurregelFacturatieTarief:
          type: number
          description: 'Prijs per stuk, ex btw'
        btwPercentage:
          type: string
          example: '21.00, 9.00, 0.00, HOOG'
        boekingsregel:
          type: string
          maxLength: 150
        boekingsregelStartdatum:
          type: string
          format: date
        grootboekrekening:
          $ref: '#/components/schemas/Grootboekrekening'
        ontvangstenGrootboekrekening:
          $ref: '#/components/schemas/Grootboekrekening'
        factuurregelToeslagKortingen:
          type: array
          items:
            $ref: '#/components/schemas/FactuurregelToeslagKorting'
        bronspecifiekewaarden:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Bronspecifiekewaardesegment'
        artikel:
          $ref: '#/components/schemas/Artikel'
        regelnummer:
          description: 'Geeft de volgorde van de factuurregels aan.'
          type: integer
          minimum: 1
    FactuurregelToeslagKorting:
      required:
        - toeslagKortingbedrag
        - toeslagKortingIndicatie
      type: object
      description: 'Wordt alleen gebruikt bij inkoopfacturen. Kan een toeslag of korting zijn.'
      properties:
        toeslagKortingbedrag:
          type: number
        toeslagKortingIndicatie:
          type: string
          enum:
            - Korting
            - Toeslag
        toeslagKortingBtw:
          type: number
    Artikel:
      description: 'Wordt alleen gebruikt bij inkoopfacturen.'
      type: object
      properties:
        artikelnummer:
          type: string
        artikelomschrijving:
          type: string
        artikeltype:
          type: string
    VerkoopfactuurBijlage:
      required:
        - binairObject
        - mimeType
        - filename
        - volgorde
      type: object
      properties:
        binairObject:
          type: string
        mimeType:
          type: string
        filename:
          type: string
        format:
          type: string
        volgorde:
          type: integer
        categorie:
          type: string
    VerkoopfactuurBijlagen:
      type: array
      minItems: 1
      items:
        $ref: '#/components/schemas/VerkoopfactuurBijlage'

    OpvoerenInkoopfactuurVraag:
      required:
        - procescode
        - referentieNummer
        - invoice
      type: object
      properties:
        procescode:
          description: 'Procescode.'
          type: string
          example: 'COMBIPAC'
        referentieNummer:
          description: 'Referentienummer.'
          type: string
          example: '9d1369cf-4ed1-4235-9a6d-01c8f6f2efeb'
        verwerkingssoort:
          description: 'Verwerkingssoort.'
          type: string
          enum:
            - HANDMATIG
            - EFAC
        invoice:
          type: object
          # De $ref staat in een comment zodat deze niet meegenomen wordt in de code-generatie: deze is te groot
          # om te genereren en zorgt voor memory problemen.
          # Als je deze als client nodig hebt: stuur een bericht naar het ESB team met de vraag of je de UBL specificatie
          # van dit endpoint kan krijgen.
          #$ref: 'UBL-Invoice-2.1.json#/definitions/Invoice'

    Verwerkingsstatus:
      required:
        - isGeslaagd
      type: object
      properties:
        isGeslaagd:
          type: boolean
          description: 'Geeft aan of de verwerking succesvol is afgerond.'
          example: 'true'
        foutcode:
          type: string
          description: 'Foutcode.'
          example: 'ERROR'
        foutmelding:
          type: string
          description: 'Foutmelding.'
          example: 'Ketenverwerking niet geslaagd:Er is iets misgegaan bij CFA'
        melding:
          type: string
          description: 'Melding.'
          example: 'Journaalpost is ontvangen en geldig; de Journaalpost moet nog verwerkt worden!'
    VerwerkingsstatusVerkoopfactuur:
      allOf:
        - $ref: '#/components/schemas/Verwerkingsstatus'
      type: object
      properties:
        factuurID:
          type: string
          description: 'FactuurID.'
    Fout:
      required:
        - code
        - detail
      type: object
      properties:
        type:
          title: Type
          description: URI referentie naar het type fout, bedoeld voor developers (wordt nog niet gevuld)
          example: ''
          type: string
        code:
          title: Code
          description: Systeemcode die het type fout aangeeft
          type: string
          example: '400'
          minLength: 1
        title:
          title: Title
          description: Generieke titel voor het type fout  (wordt nog niet gevuld)
          type: string
          minLength: 1
        status:
          title: Status
          description: De HTTP status code
          type: integer
          example: 500
        detail:
          title: Detail
          description: Extra informatie bij de fout, indien beschikbaar
          type: string
          example: 'Interne fout opgetreden.'
          minLength: 1
        instance:
          title: Instance
          description: URI met referentie naar dit specifiek voorkomen van de fout.
            Deze kan gebruikt worden in combinatie met server logs, bijvoorbeeld. (wordt nog niet gevuld)
          type: string
          example: ''
          minLength: 1
    Empty:
      type: object
